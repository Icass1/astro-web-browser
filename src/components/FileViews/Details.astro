---
import type { FileStats } from '@/types';
import FileDropdownMenu from '../DropdownMenu';
import { Folder, Share2 } from "lucide-react"

interface Props {
    file: FileStats
}

const { file } = Astro.props;
---
<a
    class="border rounded-lg py-2 px-3  flex flex-row gap-3 items-center cursor-pointer hover:bg-muted"
    href={file.isDirectory ? (Astro.params.path ? ("/" + Astro.params.path  + "/" + file.name) : ("/" + file.name)) : ''}
>
    <img src={file.iconPath} class="w-6 h-6"/>
    <!-- <Folder className="w-6 h-6"/> -->
    <div class="flex-grow w-0">
        <h3 class="font-semibold truncate max-w-full min-w-0">{file.name}</h3>
        <p class="text-sm text-muted-foreground truncate max-w-full min-w-0">
            {file.isDirectory ? ' ': file.size + ' â€¢ '}
            {file.modified}
        </p>
    </div>
    <div class="flex flex-row items-center">
        {file.shared && <Share2 className="w-4 h-4 text-blue-500 inline-block ml-2" />}
        <FileDropdownMenu client:visible/>
    </div>
</a>

